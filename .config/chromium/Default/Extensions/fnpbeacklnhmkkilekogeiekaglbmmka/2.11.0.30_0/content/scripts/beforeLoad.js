(function(a){(a.NSSS=a.NSSS||{}).domEventListener=function(d,a,k){var e=d.nfmEvents,l=a.utils,f=d.uiConstants.MESSAGES,g=a.extensionAdapter,b=window===window.top,h="0",c={};!1===b&&(h=l.createNewGuid());c.handleDOMContentLoaded=function(a){k.manager.initializeDOMManager();!1!==b&&g.sendMessage({name:f.DOMEVENT,message:{eventID:e.DOMCONTENT_LOADED,url:document.URL,isTop:b,frameID:h,hidden:document.hidden}})};c.handleLoad=function(a){g.sendMessage({name:f.DOMEVENT,message:{eventID:b?e.NAVIGATE_COMPLETE:
e.FRAME_END,url:document.URL,isTop:b,frameID:h,hidden:document.hidden}})};c.handleBeforeUnload=function(a){b&&g.sendMessage({name:f.BEFORE_UNLOAD_EVENT})};c.handlePersistentPage=function(a){a.persisted&&c.initListener()};c.initListener=function(){var a={eventID:e.FRAME_BEGIN,url:document.URL,isTop:b,frameID:h,hidden:document.hidden};window.addEventListener("DOMContentLoaded",d.domEventListener.handleDOMContentLoaded,!0);b&&(window.addEventListener("beforeunload",d.domEventListener.handleBeforeUnload,
!0),g.sendMessage({name:f.DOMEVENT,message:a}));k.manager.initializeWCID();window.addEventListener("load",d.domEventListener.handleLoad,!0);window.addEventListener("pageshow",d.domEventListener.handlePersistentPage,!0)};return c}(a.NSSS,a.SymBfw,a.WCID)})(executionContext);NSSS.domEventListener.initListener();
